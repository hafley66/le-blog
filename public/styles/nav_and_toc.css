
:root {
  --nav-height-before-border: 40px;
  --nav-border-bottom: 4px;
  --nav-height: calc(
    var(--nav-height-before-border) + var(--nav-border-bottom)
  );
  --porygon: polygon(
    0% 50%,
    25% 0%,
    75% 0%,
    100% 50%,
    75% 100%,
    25% 100%,
    0% 50%
  );

  --porygon-v2: polygon(
    50% 0%,
    100% 25%,
    100% 75%,
    50% 100%,
    0% 75%,
    0% 25%,
    50% 0%
  );
}


#primary-nav {
  margin-left: auto;
  margin-right: auto;
}

#primary-nav {
  width: 100%;
}

.nav-links {
  display: flex;
  gap: 12px;
  align-items: center;
  margin-top: 4px;
  a { 
    position: relative;
    transition: font-size 0.2 ease;

    &:hover, &.active {
      font-size: 120%;
      background-color: var(--nav-link-color);
      color: white;
      outline: none;
    }

    &::before {
      content: "";
      position: absolute;
      bottom: 14px;
      left: 50%;
      width: 50%;
      max-width: 2em;
      height: 4px;
      transform: translate(-50%);
      background: var(--nav-link-color);
      transition: background-color 0.2s ease, transform 0.2s ease;
    }

    &:hover::before, &.active::before {
      background: white;
      transform: translate(-50%) scaleY(0.5) scaleX(1.5);
    }
    &.active::before {
      /* background: black; */
    }
  }

  & a:nth-child(1) {
    --nav-link-color: var(--color-rose-700);
  }
  & a:nth-child(2) {
    --nav-link-color: var(--color-violet-700);
    --nav-link-color: var(--color-inferno-17);
  }
  & a:nth-child(3) {
    --nav-link-color: var(--color-orange-700); 
    --nav-link-color: var(--color-inferno-13); 
  }
  & a:nth-child(4) {
    --nav-link-color: var(--color-emerald-700); 
    --nav-link-color: var(--color-inferno-7); 

  }
  & a:nth-child(5) {
    --nav-link-color: var(--color-cyan-700); 
    --nav-link-color: var(--color-inferno-0); 
  }

}

.nav-link {
  clip-path: var(--porygon-v2);
  text-decoration: none;
  padding: 1rem;
  color: var(--text-color);
  transition:
    color 0.2s ease,
    background-color 0.2s ease;
  flex: 1;
  text-align: center;
  font-family: "Poly", serif;
}


/* @media (width < 480px) {
  section > :is(h2,h3,h4,h5,h6) a {
    margin-left: 4px;
    margin-right: 4px;
  }

  body {
    margin-left: 0px;
    margin-right: 0px;
  }
} */

#section-table-of-contents {
  container: derp / inline-size;
  margin-bottom: var(--TOC-margin-bottom);
  margin-top: calc( var(--TOC-margin-bottom) / 2);
  summary {
    cursor: pointer;
    pointer-events: none;
  }

  &[open] #toc-header-contents h2::after {
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><polygon points="20,30 50,70 80,30" fill="black"/></svg>');
  }
  /* margin-bottom: 1rem; */

  #toc-header-contents {
    display: flex;
    width: 100%;
    align-items: center;

    &:hover {
      background: rgb(63, 63, 63)
    }

    h2::after {
      content: " ";
      pointer-events: all;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><polygon points="30,20 70,50 30,80" style="fill: black"/></svg>');
      filter: var(--inline-svg-filter);
      width: clamp(1.1rem, 1.8vw, 1.4rem);
      height: clamp(1.1rem, 1.8vw, 1.4rem);
    }

    h2 {
      margin-top: 0px;
      margin-bottom: 0px;
      margin-right: 0px;
      margin-left: 8px;
      display: inline-flex;
      align-items: center;
      pointer-events: all;
      flex: 1 0 auto;
    }

    input {
      pointer-events: all;
      cursor: pointer;
      width: 28px;
      align-self: stretch;
    }
  }

  > nav {
    width: 100%;
    line-height: var(--TOC-line-height);
    font-size: clamp(14px, 6cqw, 16px);
    li::marker {
      font-size: 80%;
    }
    > ol {
      margin-top: 4px;
      margin-bottom: 4px;
    }
  }

  li > a {
    display: inline-block;
    width: 100%;
    height: 100%;
  }
}


details {
  border: 1px solid var(--color-border);
  border-radius: 4px;
}


@media (width < 780px){
  #primary-nav a[href="/tags"] {
    display: none;
  }
}

@media (width < 400px){
  #primary-nav a[href="/snippets"] {
    display: none;
  }
}
@media (width >= 1024px) {
  #toc-header-contents h2 {
    margin-left: 8px;
  }
}
#toc-header-contents h2 {
  margin-left: 4px;
}

.blog-linkimus {
  border-left: 3px solid green;
  display: flex;
  flex-direction: column;
  padding-left: 8px;
  & + & {
    margin-top: 24px;
  }
  color: white;
  &:hover { 
    color: var(--color-sky-400);
    text-decoration: underline;
    outline: none;
  }
  p {
    margin-bottom: 6px;
  }
}
